group = 'mg.restgen'

buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath 'org.akhikhl.gretty:gretty:1.4.0'
    }
}

apply plugin: 'war'
apply plugin: 'eclipse'
apply plugin: 'org.akhikhl.gretty'
apply plugin: 'groovy'

gretty {
    port = 8080
    contextPath = '/'
    servletContainer = 'jetty9'
    scanInterval = 1
}

description = 'restgen'
dependencies {
	compile project(':util')

    compile group: 'mysql', name: 'mysql-connector-java', version:'5.1.17'
    compile group: 'commons-dbcp', name: 'commons-dbcp', version:'1.4'
    compile group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version:'2.24.1'
	compile group: 'org.codehaus.groovy', name: 'groovy-all', version: '2.4.6'
	compile group: 'org.spockframework', name: 'spock-core', version: '1.1-groovy-2.4-rc-3'

    testCompile group: 'org.glassfish.jersey.test-framework.providers', name: 'jersey-test-framework-provider-jetty', version:'2.25'
    testCompile group: 'org.eclipse.jetty', name: 'jetty-server', version:'9.2.0.v20140526'
    testCompile group: 'org.eclipse.jetty', name: 'jetty-webapp', version:'9.2.0.v20140526'
    testCompile group: 'org.eclipse.jetty', name: 'jetty-util', version:'9.2.0.v20140526'
    testCompile group: 'org.eclipse.jetty', name: 'jetty-jmx', version:'9.2.0.v20140526'

    testRuntime group: 'cglib', name:'cglib-nodep', version: '3.1' // allows mocking of classes (in addition to interfaces)
	testRuntime group: 'org.objenesis', name: 'objenesis', version: '2.1' // allows mocking of classes without default constructor (together with CGLIB)
}
